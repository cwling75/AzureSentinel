# IronNet_UpdateIronDefenseAlerts
author: IronNet

This playbook is used to keep IronDefense and Azure Sentinel in sync by 
receiving Sentinel incident updates to update the corresponding IronDefense 
alert workflow status and analyst rating through IronAPI. The playbook 
should be set to run when a new alert is generated by the "Create Incidents from
IronDefense" analytic rule.

## Prerequisites
1. Create an IronVue user with the following permissions:
* Access IronAPI
* View Alert
* Edit Alert
* Manage Threat Intelligence Rules
2. Configure the IronNet IronDefense data connector.
3. Create an analytic rule using the "Create Incidents from IronDefense" rule
   template.

## Deployment Instructions
1. Click the "Deploy to Azure" button to open the ARM template wizard to deploy
this playbook.<br>
[![Deploy to Azure](https://aka.ms/deploytoazurebutton)](https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2FAzure-Sentinel%2Fmaster%2FSolutions%2FIronNet%20IronDefense%2FPlaybooks%2FIronNet_UpdateIronDefenseAlerts%2Fazuredeploy.json) [![Deploy to Azure](https://aka.ms/deploytoazuregovbutton)](https://portal.azure.us/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2FAzure-Sentinel%2Fmaster%2FSolutions%2FIronNet%20IronDefense%2FPlaybooks%2FIronNet_UpdateIronDefenseAlerts%2Fazuredeploy.json)
2. Enter template parameters. Use the IronVue user credentials for IronAPI.

## Post-deployment Instructions
1. Edit the "Create Incidents from IronDefense" analytic rule in your Azure
   Sentinel workspace.
2. Click the "Automated Response" tab and select this playbook to run when new
   alerts are generated.

## Playbook Execution
1. The Playbook execution begins at configured intervals to check if the Sentinel 
   Incidents has been updated
2. Using the IronAPI for an updated Sentinel Incident, the status along with its 
   classification will be updated to the corresponding IronDefense Alert